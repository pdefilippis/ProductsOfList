@{
    ViewData["Title"] = "Lotes";
}

@section scripts{
    <script src="~/js/Lot/Index.js"></script>
}

@section Breadcrumb {
    <li><a asp-action="Index" asp-controller="Home" style="color:#002147">Home</a></li>
    <li class="active"><strong>@ViewData["Title"]</strong></li>
}


<div class="row">
    <div class="col-md-6 pull-left">
        <h2 style="padding-bottom:37px; font-size: 295%; color:#676A6C; font-family:'Blippo'">Lotes</h2>
    </div>
    <div class="col-md-6 pull-right">
        <div class="form-group btn-group pull-right" id="btnCreate" style="margin-top: 55px;margin-bottom: 10px;">
            <a asp-action="Createlot" class="btn btn-primary" style="background-color:#002147"><i class='fa fa-plus-circle'>&nbsp;</i>Crear</a>
        </div>
    </div>
</div>


<table id="lots-table" class="table table-striped table-bordered table-hover table-responsive text-nowrap" style="width:100%"></table>


<div id="templates" hidden>
    <div id="lot-actions-btn-group">
        <div class="btn-group" style="display:flex">

            <a asp-action="EditLot" asp-route-lotId="_lotID_" id="edit" class="btn btn-default btn-xs" title="Editar" style="color:#00A3A1">
                <i class="fas fa-pencil-alt"></i>
            </a>

            <a asp-action="EnableDisable" id="enableDisable" asp-route-lotId="_lotID_" class="btn btn-default btn-xs btn-enable-lot" title="Habilitar/Deshabilitar" style="color:#00A3A1">
                <i id="toggleAble" class="fa fa-toggle-on fa-fw"></i>
                <i id="toggleDisable" class="fa fa-toggle-off fa-fw"></i>
            </a>

            <a asp-action="History" asp-route-lotId="_lotID_" class="btn btn-default btn-xs" title="Historial" style="color:#00A3A1">
                <i class="fa fa-history"></i>
            </a>

            <a id="btnLotClosure" class="btn btn-default btn-xs" title="Cierre de Lote" item-id="_lotID_" data-toggle="modal" data-target="#modalApply" style="color:#DA0C0C">
                <i class="fa fa-times-circle"></i>
            </a>

            <a asp-controller="Article" asp-action="Index" asp-route-lotId="_lotID_" id="articles" class="btn btn-default btn-xs" title="Visualizar artículos" style="color:#00A3A1">
                <i class="fa fa-eye"></i>
            </a>

        </div>
    </div>

    <div hidden>
        <div id="closed-field">
            <span class="badge" style="background-color:#2A8AB0; color:white; font-size:smaller">Cerrado</span>
        </div>
        <div id="active-field">
            <span class="badge" style="background-color:#37B22C; color:white; font-size:smaller">Activo</span>
        </div>
        <div id="inactive-field">
            <span class="badge" style="background-color:#DB2C2C; color:white; font-size:smaller">Inactivo</span>
        </div>
    </div>

    <div id="id-column-title">ID</div>
    <div id="description-column-title">Descripción</div>
    <div id="state-column-title">Estado</div>
    <div id="createDate-column-title">Creado</div>
    <div id="upDate-column-title">Actualizado en:</div>
    <div id="lotArticles-column-title">Artículos</div>
    <div id="adjudicated-column-title">Usuario adjudicado</div>
    <div id="actions-column-title">Acciones</div>


    <div id="are-you-sure">Confirmación</div>
    <div id="this-operation-can-not-be-revert">¿Está seguro de cerrar el lote?</div>
    <div id="yes-text">Si</div>
    <div id="no-text">No</div>
    <div id="success-text">Cerrado</div>
    <div id="btnsuccess-text">OK</div>
    <div id="approved">Lote cerrado correctamente</div>
    <div id="error-text">Error</div>
    <div id="couldnt-approve">Ocurrió un error al momento de realizar la solicitud</div>

    <div id="rejected">Rechazado</div>
    <div id="couldnt-rejected">Ocurrió un error al momento de realizar la solicitud</div>

</div>